<mat-toolbar>
    <button mat-icon-button class="menu-button" aria-label="Menu" (click)="drawer.toggle()">
        <mat-icon>menu</mat-icon>
    </button>
    <span>PDX</span>
    @if (getToolbarLabel()) {
    <span class="toolbar-label">{{ getToolbarLabel() }}</span>
    }
    <span class="spacer"></span>
    @for (action of getToolbarActionsArray(); track trackByActionId($index, action)) {
    <button mat-icon-button class="toolbar-action" [@newActionAlert]="getAnimationState(action.id)"
        (@newActionAlert.done)="onAnimationDone($event, action.id)" [attr.aria-label]="action.tooltip"
        [matTooltip]="action.tooltip" (click)="onActionClick(action)">
        <mat-icon>{{ action.icon }}</mat-icon>
    </button>
    }
    <span class="spacer-right"></span>
</mat-toolbar>

<mat-drawer-container class="container" autosize>
    <mat-drawer #drawer class="sidenav" mode="side">
        <div class="sidenav-top">
            <div class="panorama">
                <button mat-icon-button (click)="setTheme(false); toggleAnimation('day')"
                    class="theme-button day-button" [class.sink]="currentTheme === 'day'" [class.hover-effect]="true">
                    <mat-icon>wb_sunny</mat-icon>
                </button>
                <button mat-icon-button (click)="setTheme(true); toggleAnimation('night')"
                    class="theme-button night-button" [class.sink]="currentTheme === 'night'"
                    [class.hover-effect]="true">
                    <mat-icon>nightlight</mat-icon>
                </button>
            </div>
        </div>
        <h2>Go to</h2>
        <div class="sidenav-content">
            <!--query_stats-->
            <div class="nav-buttons-container">
                <button mat-button class="nav-button" (click)="navigate('save')" [disabled]="isActiveRoute('save')">
                    <mat-icon class="nav-icon">file_open</mat-icon>
                    <span class="nav-label">Save Analyzer</span>
                </button>
                <button mat-button class="nav-button" (click)="navigate('mc')" [disabled]="isActiveRoute('mc')">
                    <mat-icon class="nav-icon">menu_book</mat-icon>
                    <span class="nav-label">Mega Campaign</span>
                </button>
                <button mat-button class="nav-button" (click)="navigate('mc/admin')"
                    [disabled]="isActiveRoute('mc/admin')">
                    <mat-icon class="nav-icon">admin_panel_settings</mat-icon>
                    <span class="nav-label">Mega-Campaign Admin</span>
                </button>
                <button mat-button class="nav-button" (click)="navigate('stonks')"
                    [disabled]="isActiveRoute('stonks')">
                    <mat-icon class="nav-icon">insights</mat-icon>
                    <span class="nav-label">Stonks</span>
                </button>
                <button mat-button class="nav-button" (click)="navigate('mc/modder')"
                    [disabled]="isActiveRoute('mc/modder')">
                    <mat-icon class="nav-icon">build_circle</mat-icon>
                    <span class="nav-label">Mega Modder</span>
                </button>
                <button mat-button class="nav-button" (click)="navigate('map')" [disabled]="isActiveRoute('map')">
                    <mat-icon class="nav-icon">map</mat-icon>
                    <span class="nav-label">Map</span>
                </button>
                <button mat-button class="nav-button" (click)="navigate('jomini')" [disabled]="isActiveRoute('jomini')">
                    <mat-icon class="nav-icon">data_object</mat-icon>
                    <span class="nav-label">Parser Kiosk</span>
                </button>
                <button mat-button class="nav-button" (click)="navigate('lab')" [disabled]="isActiveRoute('lab')">
                    <mat-icon class="nav-icon">science</mat-icon>
                    <span class="nav-label">Lab</span>
                </button>
            </div>
        </div>

        @for (action of sideNavContentProvider.getActions(); track action.label) {
        <button mat-button (click)="action.action()">{{ action.label }}</button>
        <mat-divider></mat-divider>
        }
    </mat-drawer>

    <router-outlet></router-outlet>

</mat-drawer-container>